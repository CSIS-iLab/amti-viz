var basemap=L.tileLayer("https://api.mapbox.com/styles/v1/ilabmedia/cj84s9bet10f52ro2lrna50yg/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiaWxhYm1lZGlhIiwiYSI6ImNpbHYycXZ2bTAxajZ1c2tzdWU1b3gydnYifQ.AHxl8pPZsjsqoz95-604nw",{}),map=L.map("map",{center:[30.27,125.05],zoom:6,maxZoom:9,scrollWheelZoom:!0,minZoom:1,zoomControl:!0,scrollWheelZoom:!0,layers:[basemap],attributionControl:!1});const client=new carto.Client({apiKey:"d04CdzdOaRbyl8fgmt7wHQ",username:"csis"}),clientChinaShelf=new carto.Client({apiKey:"VgCKCvaxBiG8EizMoaXPZQ",username:"csis"}),clientJapanShelf=new carto.Client({apiKey:"Csd-n3r-MxX5FVkeNqeWoQ",username:"csis"}),clientJointDevelopmentZone=new carto.Client({apiKey:"8Rsd_jhMzTGj7MriFytmQg",username:"csis"}),mapSource=new carto.source.SQL("SELECT * FROM east_china_sea_oil_rig_locations_map ORDER BY cartodb_id DESC"),chinaContinentalShelfSource=new carto.source.SQL("SELECT * FROM china_continental_shelf_line"),japanContinentalShelfSource=new carto.source.SQL("SELECT * FROM japan_continental_shelf_line"),joinDevelopmentZoneSource=new carto.source.SQL("SELECT * FROM joint_development_zone_line"),mapStyle=new carto.style.CartoCSS('\n  #layer {\n  marker-width: 16;\n  marker-fill: ramp([rig_name], (#63a7ec, #63a7ec, #63a7ec, #63a7ec, #7d4391, #63a7ec, #63a7ec, #63a7ec, #63a7ec, #63a7ec, #63a7ec), ("Oriental Discovery", "Platform #1 ", "Platform #11", "Platform #12", "Platform #13", "Platform #2", "Platform #3", "Platform #4", "Platform #5", "Platform #6"), "=");\n  marker-fill-opacity: 1;\n  marker-allow-overlap: true;\n  marker-line-width: 1;\n  marker-line-color: #FFFFFF;\n  marker-line-opacity: 1;\n  }\n'),chinaContinentalShelfStyle=new carto.style.CartoCSS("\n  #layer {\n    line-width: 1.5;\n    line-color: #0078b2;\n    line-opacity: 1;\n  }\n"),japanContinentalShelfStyle=new carto.style.CartoCSS("\n  #layer {\n    line-width: 1.5;\n    line-color: #caa16d;\n    line-opacity: 1;\n  }\n"),joinDevelopmentZoneStyle=new carto.style.CartoCSS("\n  #layer {\n    line-width: 6;\n    line-color: #0c8d79;\n    line-opacity: 1;\n  }\n"),mapLayer=new carto.layer.Layer(mapSource,mapStyle,{featureOverColumns:["rig_name","new_or_old"]}),mapLayerChinaShelf=new carto.layer.Layer(chinaContinentalShelfSource,chinaContinentalShelfStyle,{featureOverColumns:["name"]}),mapLayerJapanShelf=new carto.layer.Layer(japanContinentalShelfSource,japanContinentalShelfStyle,{featureOverColumns:["name"]}),mapLayerJoinDevelopmentZone=new carto.layer.Layer(joinDevelopmentZoneSource,joinDevelopmentZoneStyle,{featureOverColumns:["name"]});client.addLayer(mapLayer),clientChinaShelf.addLayer(mapLayerChinaShelf),clientJapanShelf.addLayer(mapLayerJapanShelf),clientJointDevelopmentZone.addLayer(mapLayerJoinDevelopmentZone),client.getLeafletLayer().bringToFront().addTo(map),clientChinaShelf.getLeafletLayer().bringToFront().addTo(map),clientJapanShelf.getLeafletLayer().bringToFront().addTo(map),clientJointDevelopmentZone.getLeafletLayer().bringToFront().addTo(map);const sidePanel=L.popup({closeButton:!0});function createSidePanel(e){sidePanel.setLatLng(e.latLng);const n=document.querySelector(".panel"),a=document.querySelector(".panel-content");if(n.classList.add("open"),!sidePanel.isOpen()){var t=e.data,o="";o+=`\n    <h2 class="sidePanelHeaderStyle">\n      ${t.rig_name}\n    </h2>\n    <p class="side-panel-value">Description: <span>${t.new_or_old}</span> </p>\n    `,a.innerHTML=o}}mapLayer.on(carto.layer.events.FEATURE_CLICKED,createSidePanel);const closeBtn=document.querySelector(".close-btn");closeBtn.addEventListener("click",(function(e){document.querySelector(".panel").classList.remove("open")})),L.control.attribution({position:"bottomright"}).setPrefix('<a href="https://amti.csis.org/">CSIS - AMTI</a>, <a href="https://leafletjs.com/">Leaflet</a>').addTo(map);
//# sourceMappingURL=index.c844dd8c.js.map
